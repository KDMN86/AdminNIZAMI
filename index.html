<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Paket Mingguan</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- LOGIN CONTAINER -->
    <div class="container" id="loginContainer">
      <h2>Login Admin</h2>
      <input
        type="password"
        id="adminPassword"
        placeholder="Masukkan Password Admin"
      />
      <button onclick="login()">Login</button>
      <p id="loginError" class="error" style="display: none">Password salah!</p>
    </div>

    <!-- ADMIN PANEL (TERSEMBUNYI) -->
    <div class="container hidden" id="adminPanel">
      <h2>Admin Panel</h2>
      <!-- Dropdown Pemilihan Sheet -->
      <label for="sheetSelector">Pilih Sheet:</label>
      <select id="sheetSelector">
        <option value="IBU">IBU</option>
        <option value="MINGGUAN">MINGGUAN</option>
        <option value="FUJI">FUJI</option>
        <option value="SAMSUL">SAMSUL</option>
        <option value="DELI">DELI</option>
      </select>

      <div class="tab-buttons">
        <button onclick="switchTab('setoran')" class="active">
          Tambah Setoran
        </button>
        <button onclick="switchTab('peserta')">Tambah Peserta</button>
      </div>

      <!-- Form Tambah Setoran (FITUR FILTER) -->
      <div class="form-container active" id="formSetoran">
        <h3>Tambah Setoran Peserta</h3>
        <select id="filterType">
          <option value="no">No Urut</option>
          <option value="id" selected>ID Peserta</option>
          <option value="nama">Nama Peserta</option>
          <option value="grup">Grup ID</option>
        </select>
        <input type="text" id="filterValue" placeholder="Masukkan kata kunci" />
        <button onclick="cariPeserta()">Cari Peserta</button>
        <button class="reset-btn" onclick="resetFilter()">Reset</button>
        <!-- Hasil pencarian peserta -->
        <div id="hasilPencarian" class="updated-container hidden"></div>
        <!-- Container data peserta terbaru setelah penambahan setoran -->
        <div id="updatedParticipant" class="updated-container hidden"></div>
      </div>

      <!-- Form Tambah Peserta -->
      <div class="form-container" id="formPeserta">
        <h3>Tambah Peserta Baru</h3>
        <input type="text" id="idPesertaBaru" placeholder="ID Peserta" />
        <input type="text" id="namaPeserta" placeholder="Nama" />
        <!-- Dropdown Jenis Paket -->
        <select id="jenisPaket" onchange="updateNilaiTotal()">
          <option value="" disabled selected>Pilih Jenis Paket</option>
          <option value="Munggah 5000">Munggah 5000</option>
          <option value="Munggah Hemat">Munggah Hemat</option>
          <option value="Lebaran Wow">Lebaran Wow</option>
          <option value="Mom 5000">Mom 5000</option>
          <option value="Lebaran Sembako">Lebaran Sembako</option>
          <option value="Kue Kaleng">Kue Kaleng</option>
          <option value="Kids 3500">Kids 3500</option>
          <option value="Kids 3000">Kids 3000</option>
          <option value="Kids 2000">Kids 2000</option>
          <option value="Kids 1000">Kids 1000</option>
          <option value="Cookies">Cookies</option>
          <option value="Mingguan">Mingguan</option>
        </select>
        <input
          type="text"
          id="nilaiSetoran"
          placeholder="Nilai Setoran"
          readonly
        />
        <input
          type="text"
          id="setoranBarang"
          placeholder="Setoran Barang"
          readonly
        />
        <input
          type="text"
          id="totalSetoran"
          placeholder="Total Setoran"
          readonly
        />
        <!-- Container daftar barang untuk paket Mingguan -->
        <div id="barangContainer" class="hidden">
          <h4>Pilih Barang untuk Setoran</h4>
          <div id="barangList"></div>
          <p>Total Setoran Barang: Rp <span id="totalSetoranBarang">0</span></p>
        </div>
        <input type="text" id="grupID" placeholder="Grup ID" />
        <button onclick="tambahPeserta()">Tambah Peserta</button>
        <button class="reset-btn" onclick="resetForm('peserta')">Reset</button>
        <p id="pesertaStatus" class="status hidden"></p>
        <div id="successMessage" class="hidden">
          <p id="successText"></p>
        </div>
      </div>
    </div>
    <div id="floatingStatus" class="success">
      <span id="statusMessage"></span>
      <span id="notifClose" class="close-btn" onclick="hideFloatingStatus()"
        >×</span
      >
    </div>

    <!-- Jika overlay/modal tidak dibutuhkan, Anda bisa menghapusnya -->
    <div
      id="notifOverlay"
      class="notif-overlay"
      onclick="hideNotifModal()"
    ></div>
    <div id="notifModal" class="notif-modal">
      <span class="close-btn" onclick="hideNotifModal()">×</span>
      <div id="notifContent"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
